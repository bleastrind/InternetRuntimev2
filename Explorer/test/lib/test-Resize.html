
<script type="text/javascript"> 

var Lib_Tween =
{
	'None': function(pct)
	{
		return pct;
	},
	'Quad': function(pct)
	{
		return -(Math.pow((pct-1), 2) -1);
	}
}


function Resize(Object)
{	
	var OperatedObjects = ComponentSearcher(Object);
	var Tween = Lib_Tween['None'];
	var Time = 500;
	var EndScale = 1;
	var Anchor = 'lefttop';
	var Anime = true;
	var WithContent = true;
	var CallBack = function(){};	
	//Getters
		
	//Setters
	
	function ComponentSearcher(obj)
	{
		var ans = [];
		
		obj.OriginWidth = obj.style.width;
		obj.OriginHeight = obj.style.height;
		obj.OriginLeft = obj.style.left;
		obj.OriginTop = obj.style.top;
		var childs = obj.childNodes;
		ans.push(obj);
		for (var i = 0; i < childs.length; i++)
		{
			if (childs[i].nodeName == 'DIV' || childs[i].nodeName == 'IMG')
				ans = ans.concat(ComponentSearcher(childs[i]));		
		}
		return ans;		
	};
	function ResizeObjects(objs, d)
	{
		
		for (var obj in objs)
		{
			objs[obj].style.width = parseInt(objs[obj].OriginWidth) 
									* ((EndScale - 1) * d + 1) + 'px';
			//alert(obj.OriginWidth);
			objs[obj].style.height = parseInt(objs[obj].OriginHeight) 
									* ((EndScale - 1) * d + 1) + 'px';	
			if (objs[obj] != Object && objs[obj].style.position == 'absolute')
			{
				objs[obj].style.left = parseInt(objs[obj].OriginLeft) 
									* ((EndScale - 1) * d + 1) + 'px';
				objs[obj].style.top = parseInt(objs[obj].OriginTop) 
									* ((EndScale - 1) * d + 1) + 'px';	
			}

		}
	}
	
	this.Tween = function(tn)
	{
		Tween = Lib_Tween[tn];
		return this;
	};	
	this.Time = function(tm)
	{
		Time = tm;
		return this;
	};	
	this.EndScale = function(es)
	{	
		EndScale = es;
		return this;
	};
	this.Anchor = function(ach)
	{	
		Anchor = ach;
		return this;
	};
	this.Anime = function(anm)
	{	
		Anime = anm;
		return this;
	};
	this.WithContent = function(wc)
	{	
		WithContent = wc;
		return this;
	};
	this.CallBack = function(cb)
	{
		CallBack = cb;
		return this;
	}; 
	this.Excute = function()
	{
		var StartTime = new Date().getTime();
		function Run()
		{
			var NewTime = new Date().getTime();
			var d = Tween((NewTime - StartTime) / parseFloat(Time));
						
			if (Time >= (NewTime - StartTime))
			{
				ResizeObjects(OperatedObjects, d);
				setTimeout(Run, 1);
			}
			else
			{
				ResizeObjects(OperatedObjects, 1);
				CallBack(this);
			}
		}
		Run();
		
		return this;
	};
	return this;
}


function test1()
{
	var Box = document.getElementById('box');
	var aResize = Resize(Box).Time(300).Tween('Quad').EndScale(1.5).Excute();
}
</script>
<button onclick = "test1()" >Test!!</button>
<div id = 'box'; style="opacity: 1;border: 1px solid #666666; height:100px; width:200px; left:0px; top:200px; position: absolute" >
<div id = 'box'; style="opacity: 1;border: 1px solid #666666; height:50px; width:100px; left:50px; top:25px; position: absolute" >
</div>
</div>